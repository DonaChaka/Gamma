<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gamma</title>

  <!-- Theme stylesheet -->
  <link id="theme-link" rel="stylesheet" href="{{ url_for('static', filename='style_retro.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='fonts.css') }}">

  <!-- Material Symbols -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

  <!-- MathJax configuration -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      options: { skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'] }
    };
  </script>
  <script src="{{ url_for('static', filename='mathjax/tex-mml-chtml.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- Page-specific styles -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style_index.css') }}">
</head>
<body>
  <div class="chat-container">
    <h2>
      Gamma <span class="gamma-symbol">&#x0393;</span>
    </h2>

    <!-- Top-right controls -->
    <div class="top-controls">
      <div class="tooltip">
        <span class="material-symbols-outlined screen-icon" onclick="toggleScreen()">desktop_windows</span>
        <span class="tooltiptext">Screen share</span>
      </div>

      <div class="tooltip">
        <span class="material-symbols-outlined clear-icon" onclick="clearChat()">delete</span>
        <span class="tooltiptext">Clear chat</span>
      </div>

      <div class="tooltip">
        <span class="material-symbols-outlined voice-icon" onclick="toggleReadAloud()">volume_up</span>
        <span class="tooltiptext">Read aloud</span>
      </div>

      <div class="tooltip">
        <span class="material-symbols-outlined coffee-icon" onclick="openInfo()">local_cafe</span>
        <span class="tooltiptext">About</span>
      </div>

      <div class="tooltip">
        <span class="material-symbols-outlined settings-icon" onclick="openSettings()">settings</span>
        <span class="tooltiptext">Settings</span>
      </div>
    </div>
   
    <!-- Chat area -->
    <div id="chat-box"></div>
    
    <!-- Loader -->
    <div id="loader" class="loader" style="display:none;">
      <span class="gamma-symbol">&#x0393;</span> is typing<span class="dots"></span>
      <button id="stop-btn" onclick="stopChat()" style="display:none;">Stop</button>
    </div>

    <!-- Input area -->
    <div class="input-area">
      <input type="text" id="user-input" placeholder="Ask gamma..." autofocus>
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

    <!-- External script -->
    <script src="{{ url_for('static', filename='js/chat_core.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_voice.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat_init.js') }}"></script>
</body>
</html>